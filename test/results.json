{
  "results": [
    {
      "step": "Get test member",
      "status": 200,
      "success": true,
      "payload": {
        "member": {
          "id": "cmksj0jgt0000927ynggbykyl",
          "cardToken": "E2E_TEST_CARD_001",
          "tier": "PREMIUM",
          "status": "ACTIVE",
          "cycleStart": "2026-01-24T16:30:47.691Z",
          "cycleEnd": "2026-02-24T16:30:47.691Z",
          "itemsUsed": 6,
          "swapsUsed": 1,
          "itemsOut": 4,
          "createdAt": "2026-01-24T16:30:47.694Z",
          "updatedAt": "2026-01-24T16:36:27.363Z",
          "loans": [
            {
              "id": "cmksj1hi2000o129boe0v61u5",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
            },
            {
              "id": "cmksj70lp000w129bihc7vz5f",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
            },
            {
              "id": "cmksj7dum0014129bygbzrsb9",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
            },
            {
              "id": "cmksj7t60001c129bx1ng5058",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
            }
          ]
        },
        "allowances": {
          "itemsPerMonth": 10,
          "swaps": 5,
          "maxItemsOut": 4
        },
        "activeLoans": [
          {
            "id": "cmksj1hi2000o129boe0v61u5",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
          },
          {
            "id": "cmksj70lp000w129bihc7vz5f",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
          },
          {
            "id": "cmksj7dum0014129bygbzrsb9",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
          },
          {
            "id": "cmksj7t60001c129bx1ng5058",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
          }
        ]
      }
    },
    {
      "step": "Upload loan photo (checkout)",
      "status": 201,
      "success": true,
      "payload": {
        "uploadId": "cmkspqnf5002c129b51lor5zv",
        "status": "success"
      }
    },
    {
      "step": "Checkout loan",
      "status": 400,
      "success": false,
      "payload": {
        "message": "PREMIUM plan: Maximum 4 items allowed out. Return items to continue."
      }
    },
    {
      "step": "Get member after checkout",
      "status": 200,
      "success": true,
      "payload": {
        "member": {
          "id": "cmksj0jgt0000927ynggbykyl",
          "cardToken": "E2E_TEST_CARD_001",
          "tier": "PREMIUM",
          "status": "ACTIVE",
          "cycleStart": "2026-01-24T16:30:47.691Z",
          "cycleEnd": "2026-02-24T16:30:47.691Z",
          "itemsUsed": 6,
          "swapsUsed": 1,
          "itemsOut": 4,
          "createdAt": "2026-01-24T16:30:47.694Z",
          "updatedAt": "2026-01-24T16:36:27.363Z",
          "loans": [
            {
              "id": "cmksj1hi2000o129boe0v61u5",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
            },
            {
              "id": "cmksj70lp000w129bihc7vz5f",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
            },
            {
              "id": "cmksj7dum0014129bygbzrsb9",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
            },
            {
              "id": "cmksj7t60001c129bx1ng5058",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
            }
          ]
        },
        "allowances": {
          "itemsPerMonth": 10,
          "swaps": 5,
          "maxItemsOut": 4
        },
        "activeLoans": [
          {
            "id": "cmksj1hi2000o129boe0v61u5",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
          },
          {
            "id": "cmksj70lp000w129bihc7vz5f",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
          },
          {
            "id": "cmksj7dum0014129bygbzrsb9",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
          },
          {
            "id": "cmksj7t60001c129bx1ng5058",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
          }
        ]
      }
    },
    {
      "step": "Return loan",
      "status": 400,
      "success": false,
      "payload": {
        "message": "Missing required fields"
      }
    },
    {
      "step": "Get member after return",
      "status": 200,
      "success": true,
      "payload": {
        "member": {
          "id": "cmksj0jgt0000927ynggbykyl",
          "cardToken": "E2E_TEST_CARD_001",
          "tier": "PREMIUM",
          "status": "ACTIVE",
          "cycleStart": "2026-01-24T16:30:47.691Z",
          "cycleEnd": "2026-02-24T16:30:47.691Z",
          "itemsUsed": 6,
          "swapsUsed": 1,
          "itemsOut": 4,
          "createdAt": "2026-01-24T16:30:47.694Z",
          "updatedAt": "2026-01-24T16:36:27.363Z",
          "loans": [
            {
              "id": "cmksj1hi2000o129boe0v61u5",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
            },
            {
              "id": "cmksj70lp000w129bihc7vz5f",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
            },
            {
              "id": "cmksj7dum0014129bygbzrsb9",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
            },
            {
              "id": "cmksj7t60001c129bx1ng5058",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
            }
          ]
        },
        "allowances": {
          "itemsPerMonth": 10,
          "swaps": 5,
          "maxItemsOut": 4
        },
        "activeLoans": [
          {
            "id": "cmksj1hi2000o129boe0v61u5",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
          },
          {
            "id": "cmksj70lp000w129bihc7vz5f",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
          },
          {
            "id": "cmksj7dum0014129bygbzrsb9",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
          },
          {
            "id": "cmksj7t60001c129bx1ng5058",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
          }
        ]
      }
    },
    {
      "step": "Upload loan photo (swap base)",
      "status": 201,
      "success": true,
      "payload": {
        "uploadId": "cmkspqs3x002g129by2me3h87",
        "status": "success"
      }
    },
    {
      "step": "Checkout loan for swap",
      "status": 400,
      "success": false,
      "payload": {
        "message": "PREMIUM plan: Maximum 4 items allowed out. Return items to continue."
      }
    },
    {
      "step": "Upload loan photo (swap new)",
      "status": 201,
      "success": true,
      "payload": {
        "uploadId": "cmkspqve2002k129b9ffonb2f",
        "status": "success"
      }
    },
    {
      "step": "Swap loan",
      "status": 400,
      "success": false,
      "payload": {
        "message": "Missing required fields"
      }
    },
    {
      "step": "Get member after swap",
      "status": 200,
      "success": true,
      "payload": {
        "member": {
          "id": "cmksj0jgt0000927ynggbykyl",
          "cardToken": "E2E_TEST_CARD_001",
          "tier": "PREMIUM",
          "status": "ACTIVE",
          "cycleStart": "2026-01-24T16:30:47.691Z",
          "cycleEnd": "2026-02-24T16:30:47.691Z",
          "itemsUsed": 6,
          "swapsUsed": 1,
          "itemsOut": 4,
          "createdAt": "2026-01-24T16:30:47.694Z",
          "updatedAt": "2026-01-24T16:36:27.363Z",
          "loans": [
            {
              "id": "cmksj1hi2000o129boe0v61u5",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
            },
            {
              "id": "cmksj70lp000w129bihc7vz5f",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
            },
            {
              "id": "cmksj7dum0014129bygbzrsb9",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
            },
            {
              "id": "cmksj7t60001c129bx1ng5058",
              "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
            }
          ]
        },
        "allowances": {
          "itemsPerMonth": 10,
          "swaps": 5,
          "maxItemsOut": 4
        },
        "activeLoans": [
          {
            "id": "cmksj1hi2000o129boe0v61u5",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj1eb5000j129bvmqnn8y7.png"
          },
          {
            "id": "cmksj70lp000w129bihc7vz5f",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj6xst000r129bthstzfaf.png"
          },
          {
            "id": "cmksj7dum0014129bygbzrsb9",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7b27000z129bm4somjlv.png"
          },
          {
            "id": "cmksj7t60001c129bx1ng5058",
            "thumbnailUrl": "loans/cmksj0jgt0000927ynggbykyl/cmksj7qe30017129bc5ra7uh3.png"
          }
        ]
      }
    },
    {
      "step": "LoanPhoto linked to swapped loan",
      "status": 200,
      "success": false,
      "payload": {
        "id": "cmkspqve2002k129b9ffonb2f",
        "r2Key": "loans/cmksj0jgt0000927ynggbykyl/cmkspqve2002k129b9ffonb2f.png",
        "metadata": "{\"originalName\":\"swap-new.png\",\"mimeType\":\"image/png\",\"size\":67}",
        "loanId": null,
        "createdAt": "2026-01-24T19:39:13.898Z"
      }
    }
  ]
}